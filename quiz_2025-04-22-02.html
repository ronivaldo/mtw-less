<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Quiz de Urbaniza√ß√£o</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
  <div class="w-full max-w-md bg-white rounded-xl shadow-lg p-6">
    <h1 class="text-2xl font-bold text-center mb-4">Quiz de Regime Pol√≠tico</h1>
    <div id="quiz-container">
      <p id="question-text" class="text-lg font-medium mb-4">Carregando...</p>
      <div id="answers" class="grid gap-3 mb-4"></div>
      <button id="next-btn"
              class="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 rounded hidden">
        Pr√≥xima
      </button>
      <p id="feedback" class="mt-3 text-center font-semibold"></p>
    </div>
    <div class="mt-6">
      <div class="flex justify-between text-sm mb-1">
        <span>Pontua√ß√£o: <span id="score">0</span></span>
        <span>Conclu√≠do: <span id="percent">0</span>%</span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-3">
        <div id="progress-bar" class="bg-green-500 h-3 rounded-full" style="width: 0%"></div>
      </div>
    </div>
  </div>

  <script>
    // --- Dados do quiz ---
    const questions = [
  {
    "pergunta": "O que √© democracia?",
    "respostas": [
      "Regime pol√≠tico em que os cidad√£os votam e elegem seus representantes",
      "Sistema em que um l√≠der toma todas as decis√µes",
      "Regime sem leis escritas",
      "Forma de governo em que n√£o h√° elei√ß√µes"
    ],
    "correta": "Regime pol√≠tico em que os cidad√£os votam e elegem seus representantes"
  },
  {
    "pergunta": "Quem representa o Poder Legislativo na casa da Alice?",
    "respostas": [
      "Alice e seus irm√£os",
      "A m√£e",
      "O pai",
      "O juiz"
    ],
    "correta": "Alice e seus irm√£os"
  },
  {
    "pergunta": "Qual a fun√ß√£o principal do Poder Legislativo?",
    "respostas": [
      "Fazer as leis",
      "Executar as decis√µes",
      "Julgar conflitos",
      "Organizar elei√ß√µes"
    ],
    "correta": "Fazer as leis"
  },
  {
    "pergunta": "Qual √© a principal fun√ß√£o do Poder Executivo?",
    "respostas": [
      "Cumprir as decis√µes",
      "Criar leis",
      "Julgar brigas",
      "Fiscalizar o Judici√°rio"
    ],
    "correta": "Cumprir as decis√µes"
  },
  {
    "pergunta": "No exemplo, quem exerce o papel do Executivo na fam√≠lia?",
    "respostas": [
      "A m√£e",
      "O pai",
      "Alice",
      "O vizinho"
    ],
    "correta": "A m√£e"
  },
  {
    "pergunta": "Qual √© a fun√ß√£o do Poder Judici√°rio na casa da Alice?",
    "respostas": [
      "Julgar conflitos entre os irm√£os",
      "Executar as decis√µes tomadas",
      "Fazer as leis",
      "Organizar as finan√ßas"
    ],
    "correta": "Julgar conflitos entre os irm√£os"
  },
  {
    "pergunta": "No Estado, quem exerce o Poder Judici√°rio?",
    "respostas": [
      "Ju√≠zes e tribunais",
      "Presidentes e governadores",
      "Deputados e senadores",
      "Cidad√£os"
    ],
    "correta": "Ju√≠zes e tribunais"
  },
  {
    "pergunta": "Por que a fam√≠lia da Alice dividiu o poder em tr√™s partes?",
    "respostas": [
      "Para evitar brigas e organizar as decis√µes",
      "Para eleger um presidente",
      "Para divers√£o",
      "Para criar leis escritas"
    ],
    "correta": "Para evitar brigas e organizar as decis√µes"
  },
  {
    "pergunta": "Quem vota nas decis√µes sobre passeios e restaurantes na fam√≠lia da Alice?",
    "respostas": [
      "Alice e seus irm√£os",
      "A m√£e",
      "O pai",
      "O juiz"
    ],
    "correta": "Alice e seus irm√£os"
  },
  {
    "pergunta": "Quem cuida da parte do dinheiro na fam√≠lia, segundo o texto?",
    "respostas": [
      "A m√£e",
      "O pai",
      "Alice",
      "O irm√£o mais velho"
    ],
    "correta": "A m√£e"
  },
  {
    "pergunta": "O que acontece quando uma decis√£o n√£o √© cumprida na fam√≠lia?",
    "respostas": [
      "O pai entra e julga o que fazer",
      "As crian√ßas votam de novo",
      "A m√£e faz novas regras",
      "Eles consultam a vizinhan√ßa"
    ],
    "correta": "O pai entra e julga o que fazer"
  },
  {
    "pergunta": "Qual termo do texto define o regime pol√≠tico em que se dividem os poderes?",
    "respostas": [
      "Democracia",
      "Monarquia",
      "Ditadura",
      "Oligarquia"
    ],
    "correta": "Democracia"
  }
]

;

    const total = questions.length;
    let remaining = [...questions];
    let score = 0;
    let currentIdx = null;

    // --- Elementos DOM ---
    const qText     = document.getElementById('question-text');
    const answers   = document.getElementById('answers');
    const nextBtn   = document.getElementById('next-btn');
    const feedback  = document.getElementById('feedback');
    const scoreEl   = document.getElementById('score');
    const pctEl     = document.getElementById('percent');
    const bar       = document.getElementById('progress-bar');

    // Atualiza placar e barra
    function updateStatus() {
      scoreEl.textContent = score;
      const pct = Math.round((score / total) * 100);
      pctEl.textContent = pct;
      bar.style.width = pct + '%';
    }

    // Toca um bip com Web Audio API
    function playSound(type) {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const osc = ctx.createOscillator();
      osc.type = 'sine';
      osc.frequency.value = type === 'correct' ? 440 : 220;
      osc.connect(ctx.destination);
      osc.start();
      setTimeout(() => { osc.stop(); ctx.close(); },
                 type === 'correct' ? 150 : 400);
    }

    // Escolhe e renderiza a pr√≥xima pergunta
    function pickQuestion() {
      feedback.textContent = '';
      nextBtn.classList.add('hidden');
      answers.innerHTML = '';

      if (remaining.length === 0) {
        qText.textContent = 'üéâ Parab√©ns! Voc√™ concluiu todas as perguntas.';
        return;
      }

      // sorteio aleat√≥rio
      currentIdx = Math.floor(Math.random() * remaining.length);
      const q = remaining[currentIdx];
      qText.textContent = q.pergunta;

      // monta bot√µes de resposta
      q.respostas.forEach(resp => {
        const btn = document.createElement('button');
        btn.className = 'w-full text-left px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded';
        btn.textContent = resp;
        btn.onclick = () => handleAnswer(resp);
        answers.appendChild(btn);
      });
    }

    // L√≥gica ao clicar numa resposta
    function handleAnswer(selected) {
      // desabilita todas as op√ß√µes
      Array.from(answers.children).forEach(b => b.disabled = true);

      const q = remaining[currentIdx];
      const correta = q.correta;

      if (selected === correta) {
        // ACERTOU
        score++;
        updateStatus();
        playSound('correct');
        feedback.className = 'mt-3 text-green-600 font-semibold';
        feedback.textContent = '‚úÖ Correto!';

        // remove definitivamente
        remaining.splice(currentIdx, 1);

        // segue automaticamente em 2s
        setTimeout(pickQuestion, 2000);

      } else {
        // ERROU
        playSound('error');
        feedback.className = 'mt-3 text-red-600 font-semibold';
        feedback.textContent = `‚ùå Errado! A resposta certa √©: "${correta}".`;

        // mostra bot√£o Pr√≥xima
        nextBtn.textContent = 'Pr√≥xima';
        nextBtn.classList.remove('hidden');
        nextBtn.onclick = () => {
          pickQuestion();
        };
      }
    }

    // Inicializa√ß√£o
    updateStatus();
    pickQuestion();
  </script>
</body>
</html>
